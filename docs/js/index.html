<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="JavaScript, web" />
    <meta
      name="description"
      content="See MDN Web [Docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript)常用效果库效果背景视频弹窗输入框输入效果时间数字效果滚动效果动画效果树组件滚动条布局筛选排序数字处理校验生成图片插入内容编译插入百分比例子设置值获取值例子参考文档例子参考文档对象数组转换树结构可参考为套一层在线展示"
    />
    <title>js</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
      integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/default.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad()
    </script>
    <style>
      body {
        background-color: #f1f3f5;
        color: #345;
        font-size: 14px;
        font-family: -apple-system, BlinkMacSystemFont, segoe ui, roboto, oxygen,
          ubuntu, cantarell, fira sans, droid sans, helvetica neue, sans-serif;
      }

      .hljs {
        background-color: #ffffff;
      }

      .container {
        width: 60vw;
        margin: 0 auto;
      }
      pre {
        max-width: 60vw;
      }

      header {
        height: 10vh;
        line-height: 10vh;
      }

      header a {
        text-decoration: none;
        padding: 0.3vw 0.5vw;
        border: 1px #89a solid;
        border-radius: 0.2vw;
        color: #89a;
      }

      header a:hover {
        background-color: #ffffff;
        border-color: #345;
        color: #345;
      }

      h1 {
        font-size: 1.5em;
      }

      h3 {
        color: #745fb5;
        white-space: nowrap;
      }

      h3::after {
        margin-left: 24px;
        content: '';
        display: inline-block;
        vertical-align: middle;
        width: 100%;
        height: 1px;
        background: linear-gradient(
          to right,
          rgba(116, 95, 181, 0.2),
          transparent 80%
        );
      }

      .box {
        display: flex;
        flex-wrap: wrap;
        gap: 1vh;
      }

      .item {
        flex: 1;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <header>
        <a href="javascript:history.back()">Go Back</a>
      </header>

      <h1>js</h1>
      <p>
        See MDN Web
        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript"
          >Docs</a
        >
      </p>
      <h1 id="常用">常用</h1>
      <div class="box">
        <div class="item">
          <h3 id="效果库">效果库</h3>
          <p>html+css 效果</p>
          <pre><code class="hljs language-text">背景视频
https://github.com/rishabhp/bideo.js

弹窗
https://github.com/robinparisi/tingle


输入框输入效果
https://github.com/luisvinicius167/ityped

时间
https://github.com/flatpickr/flatpickr

数字效果
https://inorganik.github.io/countUp.js/

滚动效果 动画
https://github.com/michalsnik/aos
https://github.com/alexfoxy/lax.js
https://github.com/silvestreh/onScreen

jquery hover 效果
https://github.com/gijsroge/tilt.js

slider
https://github.com/glidejs/glide
https://refreshless.com/nouislider/

popup
https://github.com/sweetalert2/sweetalert2
https://github.com/popperjs/popper-core

progress bar
https://github.com/CodeByZach/pace

notifications
https://carlosroso.com/notyf/

树组件
http://wwwendt.de/tech/fancytree/demo/

滚动条
http://grsmto.github.io/simplebar/

布局+筛选+排序
https://isotope.metafizzy.co/

select
https://choices-js.github.io/Choices/
https://select2.org

数字处理
https://mathjs.org/index.html
http://numeraljs.com/

校验
https://github.com/yiminghe/async-validator

生成图片
https://html2canvas.hertzen.com/
https://github.com/tsayen/dom-to-image
</code></pre>
        </div>
        <div class="item">
          <h3 id="插入-js-内容">插入 js 内容</h3>
          <p>
            babel 编译，插入<code>script</code>, see
            <a href="https://babeljs.io/docs/en/babel-standalone">doc</a>
          </p>
          <pre><code class="hljs language-js"><span class="hljs-keyword">var</span> input = <span class="hljs-string">&#x27;const getMessage = () =&gt; &quot;Hello World&quot;;&#x27;</span>
<span class="hljs-keyword">var</span> output = <span class="hljs-title class_">Babel</span>.<span class="hljs-title function_">transform</span>(input, { <span class="hljs-attr">presets</span>: [<span class="hljs-string">&#x27;env&#x27;</span>] }).<span class="hljs-property">code</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output)
<span class="hljs-keyword">var</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>)
script.<span class="hljs-property">type</span> = <span class="hljs-string">&#x27;text/javascript&#x27;</span>
<span class="hljs-keyword">try</span> {
  script.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(output))
} <span class="hljs-keyword">catch</span> (e) {
  script.<span class="hljs-property">text</span> = output
}
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(script)
</code></pre>
        </div>
        <div class="item">
          <h3 id="cleavejs-百分比例子">Cleave.js 百分比例子</h3>
          <p><a href="https://github.com/nosir/cleave.js">Cleave.js</a></p>
          <pre><code class="hljs language-js"><span class="hljs-keyword">var</span> cleave = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cleave</span>(<span class="hljs-string">&#x27;.input-phone&#x27;</span>, {
  <span class="hljs-attr">numeral</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">prefix</span>: <span class="hljs-string">&#x27;%&#x27;</span>,
  <span class="hljs-attr">tailPrefix</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">noImmediatePrefix</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">numericOnly</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-comment">// numeralDecimalScale: 0,</span>
  <span class="hljs-attr">onValueChanged</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">ee</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ee.<span class="hljs-property">target</span>)
  },
})

<span class="hljs-comment">// 设置值</span>
cleave.<span class="hljs-title function_">setRawValue</span>(<span class="hljs-string">&#x27;123&#x27;</span>)

<span class="hljs-comment">// 获取值</span>
cleave.<span class="hljs-title function_">getRawValue</span>()
</code></pre>
        </div>
        <div class="item">
          <h3 id="mobxjs-js-例子">mobx.js js 例子</h3>
          <p>
            参考文档<a
              href="https://www.sitepoint.com/manage-javascript-application-state-mobx/"
              >link</a
            >
          </p>
          <pre><code class="hljs language-js"><span class="hljs-keyword">var</span> data = mobx.<span class="hljs-title function_">observable</span>({
  <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,
})

mobx.<span class="hljs-title function_">autorun</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;autorun&#x27;</span>, data.<span class="hljs-property">a</span>)
})

data.<span class="hljs-property">a</span> = <span class="hljs-number">2</span>
</code></pre>
        </div>
        <div class="item">
          <h3 id="rxjs-例子">rxjs 例子</h3>
          <p>
            参考文档<a
              href="https://www.learnrxjs.io/learn-rxjs/subjects/behaviorsubject"
              >link</a
            >
          </p>
          <pre><code class="hljs language-js"><span class="hljs-comment">// var sub = new rxjs.Subject()</span>
<span class="hljs-keyword">var</span> sub = <span class="hljs-keyword">new</span> rxjs.<span class="hljs-title class_">BehaviorSubject</span>()
sub.<span class="hljs-title function_">next</span>({ <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> })
sub.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Subscriber A&#x27;</span>, x)
})
sub.<span class="hljs-title function_">next</span>({ <span class="hljs-attr">a</span>: <span class="hljs-number">2</span> })
sub.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Subscriber B&#x27;</span>, x)
  <span class="hljs-comment">// make sure BehaviorSubject</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sub.<span class="hljs-title function_">getValue</span>())
})
sub.<span class="hljs-title function_">next</span>(<span class="hljs-number">3</span>)

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;------------with other api ------------&#x27;</span>)
<span class="hljs-keyword">const</span> observable = rxjs.<span class="hljs-title function_">interval</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">pipe</span>(rxjs.<span class="hljs-title function_">take</span>(<span class="hljs-number">41</span>))
observable.<span class="hljs-title function_">subscribe</span>(sub)
</code></pre>
        </div>
        <div class="item">
          <h3 id="js-nest--对象数组转换树结构">js nest , 对象数组转换树结构</h3>
          <p>
            可参考<a
              href="https://stackoverflow.com/questions/62938888/nest-flat-objects-based-on-a-parentid-and-id-property"
              >link</a
            >,
            <a
              href="https://stackoverflow.com/questions/68330014/flat-array-to-tree-javascript"
              >link2</a
            >
          </p>
          <pre><code class="hljs language-js">   { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">child</span>: [] },
   { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">child</span>: [] },
   { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">child</span>: [] },
   { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">child</span>: [] },
   { <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">child</span>: [] },
   { <span class="hljs-attr">id</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">child</span>: [] },
   { <span class="hljs-attr">id</span>: <span class="hljs-number">7</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">child</span>: [] },
   { <span class="hljs-attr">id</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">parentId</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">child</span>: [] },
]

<span class="hljs-keyword">function</span> <span class="hljs-title function_">nest</span>(<span class="hljs-params">data, parentId=<span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword">const</span> result = []

    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i&lt; data.<span class="hljs-property">length</span>; i++) {

        <span class="hljs-keyword">if</span>(data[i].<span class="hljs-property">parentId</span> == parentId) {
            result.<span class="hljs-title function_">push</span>(data[i])
            data[i].<span class="hljs-property">child</span> = data.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">parentId</span> == data[i].<span class="hljs-property">id</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
                item.<span class="hljs-property">child</span> = <span class="hljs-title function_">nest</span>(data, item.<span class="hljs-property">id</span>)
                <span class="hljs-keyword">return</span> item
            })
        }
    }

    <span class="hljs-keyword">return</span> result
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title function_">nest</span>(data), <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>))
</code></pre>
        </div>
        <div class="item">
          <h3 id="js-dom-wrapper--为dom套一层dom">
            js dom wrapper , 为dom套一层dom
          </h3>
          <p>
            在线展示 <a href="https://codepen.io/Gozeon/full/NWXeJZQ">link</a>
          </p>
          <pre><code class="hljs language-js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Wrpper</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">el, config</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetEl</span> = el
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = {
          <span class="hljs-attr">defaultStyle</span>: {
              <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;absolute&#x27;</span>,
              <span class="hljs-attr">borderStyle</span>: <span class="hljs-string">&#x27;solid&#x27;</span>,
              <span class="hljs-attr">borderWidth</span>: <span class="hljs-string">&#x27;1px&#x27;</span>,
              <span class="hljs-attr">borderColor</span>: <span class="hljs-string">&#x27;#000000&#x27;</span>,
          },
          ...config
      }
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapper</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>)

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initResizeObserver</span>()

  }
  <span class="hljs-title function_">setCss</span>(<span class="hljs-params">styles</span>) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> property <span class="hljs-keyword">in</span> styles) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapper</span>.<span class="hljs-property">style</span>[property] = styles[property]
      }
  }
  <span class="hljs-title function_">initResizeObserver</span>(<span class="hljs-params"></span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResizeObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutations</span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">render</span>()
      });
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">targetEl</span>)
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">const</span> { width, height, top, left } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">targetEl</span>.<span class="hljs-title function_">getBoundingClientRect</span>()
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(width, height, top, left)

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setCss</span>({
          <span class="hljs-attr">width</span>: width + <span class="hljs-number">10</span> + <span class="hljs-string">&#x27;px&#x27;</span>,
          <span class="hljs-attr">height</span>: height + <span class="hljs-number">10</span> + <span class="hljs-string">&#x27;px&#x27;</span>,
          <span class="hljs-attr">top</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> + top - <span class="hljs-number">5</span> + <span class="hljs-string">&#x27;px&#x27;</span>,
          <span class="hljs-attr">left</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollX</span> + left - <span class="hljs-number">5</span> + <span class="hljs-string">&#x27;px&#x27;</span>,
          ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">defaultStyle</span>,
      })
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">append</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapper</span>)

  }

  <span class="hljs-title function_">remove</span>(<span class="hljs-params"></span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">wrapper</span>.<span class="hljs-title function_">remove</span>()
  }
}
</code></pre>
        </div>
      </div>
    </div>
  </body>
</html>
